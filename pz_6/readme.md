# A-B-testing
## A/B-тестирование 

Папка "pz_6": Урок 6. Расчёт длительности А/B теста + продвинутые топики (Практическое задание)
___________________________
### Выполнение практического задания № 6
### Урок 6. Расчёт длительности А/B теста + продвинутые топики

#### Практическое задание:
#### Задание 1. 
Продакт на главной mail.ru решил протестировать в рекомендательной ленте контента вместо карточек со статьями видеоплеер с короткими видео. Нынешний таймспент на юзера в день в среднем равен 25 минут, а стандартная ошибка (SD) равна 156. Мы предполагаем, что в новой версии таймспент на юзера в день изменится на 10%. Средний трафик 20000 человек в день. Посчитайте сколько дней необходимо держать эксперимент при alpha = 5% и beta = 20% .
#### Задание 2. 
Наша продуктовая команда в ecommerce магазине планирует запустить тест, направленный на ускорение загрузки сайта. Одна из основных метрик bounce rate в GA = 40%. Мы предполагаем, что при оптимизации сайта она изменится минимум на 20%.Средний трафик 4000 человек в день. Посчитайте сколько нам нужно дней держать эксперимент при alpha = 5% и beta = 20%.<br>
<br>
Калькуляторы, которые могут помочь в решение задач:
* https://www.evanmiller.org/ab-testing/sample-size.html 
* https://www.statulator.com/SampleSize/ss2M.html

#### Решение.
#### Задание 1. 
Для справки:
Таймспент - сколько времени пользователь проводит в приложении.

Нам известно:
*	текущее значение таймспента на юзера в день = 25 минут.
*	предполагаемое значение таймспента на юзера в день = 27.5 минут или разница = 2.5 минуты<br>
(по условию предполагаемое значение изменится на 10%, или на 25/100*10 = 2.5 минуты)
*	стандартная ошибка (SD) равна 156.

Воспользуемся предложенным калькулятором:<br>
https://www.evanmiller.org/ab-testing/sample-size.html<br>
<b>Результаты расчёта:</b><br>
![Результаты расчёта 1](https://github.com/KSU-KGN/A-B-testing/raw/main/pz_6/pz_6_1_1.jpg)

Таким образом, для эксперимента потребуется выборка из 77858 человек для каждой группы (т. е. общий размер выборки 155716 при условии одинакового размера групп) для достижения мощности 80% и уровня значимости 5% для обнаружения стат.значимой разницы в средних значениях между тестовой и контрольная группой в 10%, т. е. двустороннее p-value будет менее 0,05.<br>

Если мы зададим абсолютное значение разницы между средними таймспента (текущей и ожидаемой), то получим точно такой же результат.<br>
<b>Результаты расчёта:</b><br>
![Результаты расчёта 2](https://github.com/KSU-KGN/A-B-testing/raw/main/pz_6/pz_6_1_2.jpg)

Посчитаем сколько дней необходимо держать эксперимент.<br>
Если у нас будут две одинакового размера группы, тогда<br>
77858*2 / 20000 = 7.7858 дней.

**Таким образом, нам необходимо держать эксперимент не менее 8 дней.**
#### Задание 2. 
Для справки:
Если упростить, то показатель отказов, Bounce Rate — это подсчет таких посещений сайта, когда посетитель сразу же уходит. Обычно это значение используется для измерения общей вовлеченности пользователей. То есть ваш показатель отказов показывает процент посетителей, которые покидают ваш сайт.
Отказ в Google Analytics (показатель Bounce Rate) — это сеанс, в ходе которого пользователь просмотрел только одну страницу.

Нам известно:
*	Базовый коэффициент конверсии (bounce rate)  = 40%.
*	Минимальный обнаруживаемый эффект (bounce rate)  = 20% (в абсолютном значении 8%)<br>
(40/100*20 = 8%)

Воспользуемся предложенным калькулятором:<br>
https://www.statulator.com/SampleSize/ss2M.html<br>
<b>Результаты расчёта:</b><br>
![Результаты расчёта 3](https://github.com/KSU-KGN/A-B-testing/raw/main/pz_6/pz_6_2_1.jpg)

Таким образом, для эксперимента потребуется выборка из 592 человека для каждой группы (т. е. общий размер выборки 1184 при условии одинакового размера групп) для достижения мощности 80% и уровня значимости 5% для обнаружения минимального эффекта в 20%, т. е. двустороннее p-value будет менее 0,05.<br>

Если мы зададим абсолютное значение для обнаружения минимального эффекта, то получим точно такой же результат.<br>
<b>Результаты расчёта:</b><br>
![Результаты расчёта 4](https://github.com/KSU-KGN/A-B-testing/raw/main/pz_6/pz_6_2_2.jpg)

Посчитаем сколько дней необходимо держать эксперимент.<br>
Если у нас будут две одинакового размера группы, тогда<br>
592*2 / 4000 = 0.296 дней.

**Таким образом, нам необходимо держать эксперимент не менее 1 дня.**<br>
(Такой результат объясняется тем, что у нас достаточно большой минимально обнаруживаемый эффект 20 %.. Чем меньше его значение, тем больший объём выборки потребуется. Например, для 5% потребуется выборка уже из 9440 человек на каждую группу, а это уже 9440*2 / 4000 = 4.72 или 5 дней эксперимента.)
